<!DOCTYPE html>
<html>
<head>
<title> Standard Changes Support For Camera And Lighting |  The Open Effects Association</title>
<link rel="shortcut icon" type="image/x-icon" href="/assets/ofx_favicon-c6cb586c0f8efbaeff3167d1fd7cfca2.ico" />
<link rel="stylesheet" media="all" href="/assets/application-8fbc3aa4b380a52e15d414a59177d3a2.css" />
<script src="/assets/application-f474998312dbf9d63cf3d555583ac5a1.js"></script>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="p0gW+Dfb42tTn2Vnze7Lhi0QJ5JcJOM4apNiPosT16eJUn5Lke/uROZAJ4q53HBSeDBT1wVZxdqkknZTnkLWnA==" />
<meta content='IE=edge' http_equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<script src='//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
</head>
<body class='c_standard_changes a_show' data-spy='scroll' data-target='.navbar-top' role='document'>
<div class='modal fade' id='terminal'>
<div class='modal-dialog modal-lg'>
<div class='modal-content'>
<div class='modal-header'>
<div aria-hidden='true' class='button close' data-dismiss='modal' type='button'>&times;</div>
<h4 class='modal-title'>Terminal Output</h4>
</div>
<div class='modal-body'>
<div class='window'></div>
</div>
</div>
</div>
</div>
<div class='wrapper'>
<div class='navbar navbar-inverse navbar-fixed-top' role='components'>
<div class='container'>
<div class='navbar-header'>
<button class='navbar-toggle' data-target='.navbar-collapse' data-toggle='collapse' type='button'>
<span class='sr-only'>Toggle components</span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
</div>
<div class='navbar-collapse collapse'>
<div class='row'>
<div class='navbar-left'>
<div class='navbar-top'>
<div class='mobile'>
<ul class='nav navbar-nav'>
<li><a href="/">Welcome</a></li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
<div class='desktop'>
<ul class='nav navbar-nav'>
<li class='nav-logo'>
<a class="navbar-link" href="/"><img src="/assets/OFX_small-41bc647075217376f758003aebeacf15.png" alt="Ofx small" /></a>
</li>
<li class='dropdown'>
<a href="/">Welcome <span class="glyphicon glyphicon-circle-arrow-left"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" href="#standard">Why a Standard?</a>
</li>
<li>
<a class="navbar-link" href="#implementers">For Implementers</a>
</li>
<li>
<a class="navbar-link" href="#organization">Association Business</a>
</li>
</ul>
</li>
<li class='dropdown api'>
<a class='navbar-link'>API Documentation <span class="glyphicon glyphicon-circle-arrow-down"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" target="_blank" href="/documentation/api_doc">API Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Reference/index.html">Programming Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Guide/index.html">Programming Guide</a>
</li>
</ul>
</li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
</div>
</div>
<div class='desktop'>

</div>
</div>
</div>
</div>
</div>
<div class='container' role='main'>
</div>
<div class='container'>
<div class='row'>
<div class='col-md-offset-2 col-md-8'>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-warning'>
<div class='panel-heading'>
<h3 class='panel-title'>
Support for Camera and Lighting
<span class='pull-right'>Proposed</span>
</h3>
</div>
<div class='panel-body'>
<p>
<b>Standard version:</b>
1.5
</p>
<p>
<b>Major Change</b>
</p>
<label>Subcommittee</label>
<p><p>Robert Laycock (Hitfilm), &nbsp;Paul Garmon (Borisfx)</p></p>
<label>Overview</label>
<p>Some hosts support 3d compositing with cameras and lights. AE even has this. The OFX API could allow plug-ins to use the host's camera and lighting information, where available, to create interesting effects.</p>
<p>Nuke has a private suite for Camera already.</p>
<label>Solution</label>
<p>None at this time, though other proprietary plug-in APIs have implemented it.</p>
<p>&nbsp;</p>
<p>/*</p>
<p>Copyright (c) 2016, FXHOME Limited (UK)</p>
<p><br />THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND<br />ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED<br />WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE<br />DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR<br />ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES<br />(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;<br />LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON<br />ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT<br />(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS<br />SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p><br />*/</p>
<p>#ifndef _ofxHitFilmExtensions_h_<br />#define _ofxHitFilmExtensions_h_</p>
<p>#include "ofxCore.h"<br />#include "ofxImageEffect.h"</p>
<p>#ifdef __cplusplus<br />extern "C" {<br />#endif</p>
<p>/** @brief Search keywords for the effect descriptor</p>
<p>- Type - UTF8 C string<br /> - Property Set - effect descriptor (read/write)<br />*/<br />#define kOfxHitFilmPropKeywords "OfxHitFilmPropKeywords"</p>
<p>&nbsp;</p>
<p>/** @brief the string that names the HitFilm 3D Suite, passed to OfxHost::fetchSuite */<br />#define kOfxHitFilm3DSuite "OfxHitFilm3DSuite"</p>
<p><br />/** @brief Blind declaration of an OFX Camera<br />*/<br />typedef struct OfxHitFilmCameraStruct *OfxHitFilmCameraHandle;</p>
<p>/** @brief Blind declaration of OFX Lights<br />*/<br />typedef struct OfxHitFilmLightsStruct *OfxHitFilmLightsHandle;</p>
<p><br />/** @brief Used as a value for ::kOfxPropType on image effect camera handle */<br />#define kOfxTypeHitFilmCamera "OfxTypeHitFilmCamera"<br />/** @brief Used as a value for ::kOfxPropType on image effect lights handle */<br />#define kOfxTypeHitFilmLights "OfxTypeHitFilmLights"<br />/** @brief Used as a value for ::kOfxPropType on image effect camera transform */<br />#define kOfxTypeHitFilmCameraTransform "OfxTypeHitFilmCameraTransform"<br />/** @brief Used as a value for ::kOfxPropType on image effect light transform */<br />#define kOfxTypeHitFilmLightTransform "OfxTypeHitFilmLightTransform"<br />/** @brief Used as a value for ::kOfxPropType on image effect clip transform */<br />#define kOfxTypeHitFilmClipTransform "OfxTypeHitFilmClipTransform"</p>
<p>&nbsp;</p>
<p><br />/** @brief The 3D matrix used by the application to transform the selected object</p>
<p>- Type - double X 16<br /> - Property Set - HitFilm Clip Transform (read only),<br /> HitFilm Camera Transform (read only),<br /> HitFilm Light Transform (read only)</p>
<p>This property contains a 4x4 matrix, stored in row major order<br /> It uses a left handed coordinate system, with y pointing up<br />*/<br />#define kOfxHitFilmProp3DTransformMatrix "OfxHitFilmProp3DTransformMatrix"</p>
<p>&nbsp;</p>
<p><br />/** @brief String that is the name of the standard default camera */<br />#define kOfxHitFilmDefaultCamera "OfxHitFilmDefaultCamera"</p>
<p><br />/** @brief Indicates if a clip is optional.</p>
<p>- Type - int X 1<br /> - Property Set - HitFilm Camera Descriptor (read/write)<br /> - Default - 0<br /> - Valid Values - This must be one of 0 or 1</p>
<p>*/<br />#define kOfxHitFilmCameraPropOptional "OfxHitFilmCameraPropOptional"</p>
<p><br />/** @brief Says whether the camera is actually connected at the moment.</p>
<p>- Type - int X 1<br /> - Property Set - HitFilm Camera Instance (read only)<br /> - Valid Values - This must be one of 0 or 1<br />*/<br />#define kOfxHitFilmCameraPropConnected "OfxHitFilmCameraPropConnected"</p>
<p><br />/** @brief The 3D matrix used to transform the scene when viewing through a camera</p>
<p>- Type - double X 16<br /> - Property Set - HitFilm Camera Transform (read only)</p>
<p>This property contains a 4x4 matrix, stored in row major order<br />It uses a left handed coordinate system, with y pointing up.<br />*/<br />#define kOfxHitFilmCameraPropMatrix "OfxHitFilmCameraPropMatrix"</p>
<p><br />/** @brief The zoom of the camera</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Camera Transform (read only)<br />*/<br />#define kOfxHitFilmCameraPropZoom "OfxHitFilmCameraPropZoom"</p>
<p><br />/** @brief The fov of the camera</p>
<p>- Type - double X 2<br /> - Property Set - HitFilm Camera Transform (read only)<br />*/<br />#define kOfxHitFilmCameraPropFOV "OfxHitFilmCameraPropFOV"</p>
<p><br />/** @brief The focus distance of the camera</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Camera Transform (read only)<br />*/<br />#define kOfxHitFilmCameraPropFocusDistance "OfxHitFilmCameraPropFocusDistance"</p>
<p>/** @brief The blur level of the camera</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Camera Transform (read only)<br />*/<br />#define kOfxHitFilmCameraPropBlurLevel "OfxHitFilmCameraPropBlurLevel"</p>
<p><br />/** @brief The aperture of the camera</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Camera Transform (read only)<br />*/<br />#define kOfxHitFilmCameraPropAperture "OfxHitFilmCameraPropAperture"</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>/** @brief String that is the name of the default lights input */<br />#define kOfxHitFilmDefaultLights "OfxHitFilmDefaultLights"</p>
<p><br />/** @brief The number of lights linked to the HitFilm Lights Instance</p>
<p>- Type - integer X 1<br /> - Property Set - HitFilm Lights Instance (read only)<br />*/<br />#define kOfxHitFilmLightsPropNumberOfLights "OfxHitFilmLightsPropNumberOfLights"</p>
<p><br />/** @brief Says whether the light is currently enabled</p>
<p>- Type - int X 1<br /> - Property Set - HitFilm Light Transform (read only)<br /> - Valid Values - This is either 0 or 1<br />*/<br />#define kOfxHitFilmLightPropEnabled "OfxHitFilmLightPropEnabled"</p>
<p><br />/** @brief The type of light</p>
<p>- Type - string X 1<br /> - Property Set - HitFilm Light Transform (read only)<br /> - Valid Values - This must be one of<br /> - ::kOfxHitFilmLightAmbient<br /> - ::kOfxHitFilmLightPoint<br /> - ::kOfxHitFilmLightSpot<br /> - ::kOfxHitFilmLightDirectional<br />*/<br />#define kOfxHitFilmLightPropType "OfxHitFilmLightPropType"</p>
<p>/** @brief Used to find the light type as an ambient light. See \ref ::kOfxHitFilmLightPropType<br />*/<br />#define kOfxHitFilmLightAmbient "OfxHitFilmLightAmbient"</p>
<p>/** @brief Used to find the light type as a point light. See \ref ::kOfxHitFilmLightPropType<br />*/<br />#define kOfxHitFilmLightPoint "OfxHitFilmLightPoint"</p>
<p>/** @brief Used to find the light type as a spot light. See \ref ::kOfxHitFilmLightPropType<br />*/<br />#define kOfxHitFilmLightSpot "OfxHitFilmLightSpot"</p>
<p>/** @brief Used to find the light type as a directional light. See \ref ::kOfxHitFilmLightPropType<br />*/<br />#define kOfxHitFilmLightDirectional "OfxHitFilmLightDirectional"</p>
<p><br />/** @brief The intensity of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropIntensity "OfxHitFilmLightPropIntensity"</p>
<p><br />/** @brief The Color of the light</p>
<p>- Type - double X 4<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropColor "OfxHitFilmLightPropColor"</p>
<p><br />/** @brief The cone angle of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropConeAngle "OfxHitFilmLightPropConeAngle"</p>
<p><br />/** @brief The cone feather of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropConeFeather "OfxHitFilmLightPropConeFeather"</p>
<p><br />/** @brief If the light casts shadows</p>
<p>- Type - int X 1<br /> - Property Set - HitFilm Light Transform (read only)<br /> - Valid Values - This is either 0 or 1<br />*/<br />#define kOfxHitFilmLightPropCastsShadows "OfxHitFilmLightPropCastsShadows"</p>
<p><br />/** @brief The shadow color of the light, alpha controls the opacity of the shadow</p>
<p>- Type - double X 4<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropShadowColor "OfxHitFilmLightPropShadowColor"</p>
<p><br />/** @brief The shadow diffusion of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropShadowDiffusion "OfxHitFilmLightPropShadowDiffusion"</p>
<p><br />/** @brief The falloff type of the light</p>
<p>- Type - string X 1<br /> - Property Set - HitFilm Light Transform (read only)<br /> - Valid Values - This must be one of<br /> - ::kOfxHitFilmLightFalloffNone<br /> - ::kOfxHitFilmLightFalloffLinear<br /> - ::kOfxHitFilmLightFalloffQuadratic<br />*/<br />#define kOfxHitFilmLightPropFalloffType "OfxHitFilmLightPropFalloffType"</p>
<p>/** @brief Use to define that the light has no falloff. See \ref ::kOfxHitFilmLightPropFalloffType<br />*/<br />#define kOfxHitFilmLightFalloffNone "OfxHitFilmLightFalloffNone"</p>
<p>/** @brief Use to define that the light has a linear falloff. See \ref ::kOfxHitFilmLightPropFalloffType<br />*/<br />#define kOfxHitFilmLightFalloffLinear "OfxHitFilmLightFalloffLinear"</p>
<p>/** @brief Use to define that the light has a quadratic falloff. See \ref ::kOfxHitFilmLightPropFalloffType<br />*/<br />#define kOfxHitFilmLightFalloffQuadratic "OfxHitFilmLightFalloffQuadratic"</p>
<p><br />/** @brief The falloff start of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropFalloffStart "OfxHitFilmLightPropFalloffStart"</p>
<p><br />/** @brief The falloff distance of the light</p>
<p>- Type - double X 1<br /> - Property Set - HitFilm Light Transform (read only)<br />*/<br />#define kOfxHitFilmLightPropFalloffDistance "OfxHitFilmLightPropFalloffDistance"</p>
<p>&nbsp;</p>
<p><br />/** @brief Indicates if an image clip is 3D</p>
<p>- Type - int X 1<br /> - Property Set - HitFilm Clip Transform (read only)</p>
<p>- 0 if the clip is 2D<br /> - 1 if the clip is 3D<br />*/<br />#define kOfxHitFilmImageClipPropIs3D "OfxHitFilmImageClipPropIs3D"</p>
<p>&nbsp;</p>
<p><br />/** @brief OFX suite that provides access to cameras and lights<br />*/<br />typedef struct OfxHitFilm3DSuiteV1 {</p>
<p>/** @brief Defines a camera input for the effect</p>
<p>\arg imageEffect image effect<br /> \arg name unique name of the camera input<br /> \arg propertySet if not null, a pointer to the camera descriptor's property set will be placed here.</p>
<p>To use the default HitFilm camera use the name kOfxHitFilmDefaultCamera.<br /> If another name is used, a layer picker will be added, which can be used to select a camera layer.</p>
<p>The camera descriptor contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmCamera<br /> - kOfxPropName (read only)<br /> - kOfxPropLabel (read/write)<br /> - kOfxPropShortLabel (read/write)<br /> - kOfxPropLongLabel (read/write)<br /> - kOfxHitFilmCameraPropOptional (read/write)</p>
<p><br /> This function defines a camera input and returns a property set which is used to describe that camera.</p>
<p>This function does not actually create a camera input instance, <br /> it only says that one should exist in any subsequent effect instances. <br /> To fetch a camera input instance, cameraGetHandle must be called on an effect instance.</p>
<p>This function can always be called in one of a plug-in's "describe" functions.</p>
<p>@returns<br /> - ::kOfxStatOK - the camera input was created correctly<br /> - ::kOfxStatErrBadHandle - if the plugin handle was invalid<br /> - ::kOfxStatErrExists - if a camera of that name exists already in this plugin<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> - ::kOfxStatErrUnsupported - if the type is known but unsupported<br /> */<br /> OfxStatus(*cameraDefine)(<br /> OfxImageEffectHandle imageEffect,<br /> const char *name, <br /> OfxPropertySetHandle *propertySet);</p>
<p><br /> /** @brief Retrieves the handle for a camera input</p>
<p>\arg imageEffect image effect<br /> \arg name camera input to ask about<br /> \arg camera pointer to a camera handle, the value is returned here<br /> \arg propertySet if not null, a pointer to the camera's property set will be placed here.</p>
<p><br /> The camera instance contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmCamera<br /> - kOfxPropName (read only)<br /> - kOfxPropLabel (read only)<br /> - kOfxPropShortLabel (read only)<br /> - kOfxPropLongLabel (read only)<br /> - kOfxHitFilmCameraPropOptional (read only)<br /> - kOfxHitFilmCameraPropConnected (read only)</p>
<p>&nbsp;</p>
<p>Camera handles retrieved from an instance are always distinct in each instance. <br /> The camera handle is valid for the life-time of the instance. <br /> You cannot call this in a plugin's describe function, as it needs an instance to work on.</p>
<p>@returns<br /> - ::kOfxStatOK - the camera input was found and returned<br /> - ::kOfxStatErrBadHandle - if the plugin handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*cameraGetHandle)(<br /> OfxImageEffectHandle imageEffect,<br /> const char *name, <br /> OfxHitFilmCameraHandle *camera,<br /> OfxPropertySetHandle *propertySet);</p>
<p><br /> /** @brief Retrieves the property set handle for the given camera</p>
<p>\arg camera the camera handle to get the property set for<br /> \arg propHandle pointer to a the property set handle, value is returned here</p>
<p>@returns<br /> - ::kOfxStatOK - the property set was found and returned<br /> - ::kOfxStatErrBadHandle - if the camera handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*cameraGetPropertySet)(<br /> OfxHitFilmCameraHandle camera,<br /> OfxPropertySetHandle *propertySet);</p>
<p><br /> /** @brief Retrieves camera transform information for the requested time</p>
<p>\arg camera the camera handle to get the transform for<br /> \arg time the time at which the camera transform values should be sampled<br /> \arg cameraTransform pointer to a property set handle, value is returned here</p>
<p>The camera transform contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmCameraTransform<br /> - kOfxPropTime (read only)<br /> - kOfxHitFilmProp3DTransformMatrix (read only)<br /> - kOfxHitFilmCameraPropMatrix (read only)<br /> - kOfxHitFilmCameraPropZoom (read only)<br /> - kOfxHitFilmCameraPropFOV (read only)<br /> - kOfxHitFilmCameraPropFocusDistance (read only)<br /> - kOfxHitFilmCameraPropBlurLevel (read only)<br /> - kOfxHitFilmCameraPropAperture (read only)</p>
<p>The transform handle is valid for the current action.</p>
<p>@returns<br /> - ::kOfxStatOK - the property set was found and returned<br /> - ::kOfxStatErrBadHandle - if the camera handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*cameraGetTransform)(<br /> OfxHitFilmCameraHandle camera,<br /> OfxTime time,<br /> OfxPropertySetHandle *cameraTransform);</p>
<p>&nbsp;</p>
<p>/** @brief Defines lights input for the effect</p>
<p>\arg imageEffect image effect to get the property set for<br /> \arg name unique name of the lights input (in HitFilm must be set to kOfxHitFilmDefaultLights)<br /> \arg propertySet if not null, a pointer to the lights input descriptor's property set will be placed here.</p>
<p>To use the default HitFilm lights use the name kOfxHitFilmDefaultLights.<br /> Using this name, all lights inside the same Composite Shot will be connected to this input.<br /> (Other light names are currently not implement inside HitFilm)</p>
<p>The lights descriptor contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmLights<br /> - kOfxPropName (read only)<br /> - kOfxPropLabel (read/write)<br /> - kOfxPropShortLabel (read/write)<br /> - kOfxPropLongLabel (read/write)</p>
<p>&nbsp;</p>
<p>This function defines a lights input and returns a property set which is used to describe that lights input.</p>
<p>This function does not actually create a lights input instance,<br /> it only says that one should exist in any subsequent effect instances.<br /> To fetch a lights input instance, lightsGetHandle must be called on an effect instance.</p>
<p>This function can always be called in one of a plug-in's "describe" functions.</p>
<p>@returns<br /> - ::kOfxStatOK - the lights input was created correctly<br /> - ::kOfxStatErrBadHandle - if the plugin handle was invalid<br /> - ::kOfxStatErrExists - if a lights input of that name exists already in this plugin<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> - ::kOfxStatErrUnsupported - if the type is known but unsupported<br /> */<br /> OfxStatus(*lightsDefine)( <br /> OfxImageEffectHandle imageEffect,<br /> const char *name,<br /> OfxPropertySetHandle *propertySet);</p>
<p>/** @brief Retrieves the handle for a lights input</p>
<p>\arg imageEffect image effect to get the property set for<br /> \arg name lights input to ask about<br /> \arg lightsHandle pointer to a lights handle, the value is returned here<br /> \arg propertySet if not null, a pointer to the lights input instance property set will be placed here.</p>
<p><br /> The lights instance contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmLights<br /> - kOfxPropName (read only)<br /> - kOfxPropLabel (read only)<br /> - kOfxPropShortLabel (read only)<br /> - kOfxPropLongLabel (read only)<br /> - kOfxHitFilmLightsPropNumberOfLights (read only)</p>
<p><br /> Lights instance handles retrieved from an effect instance are always distinct in each effect instance.<br /> The lights instance handle is valid for the life-time of the effect instance.<br /> You cannot call this in a plugin's describe function, as it needs an instance to work on.</p>
<p>@returns<br /> - ::kOfxStatOK - the lights input was found and returned<br /> - ::kOfxStatErrBadHandle - if the plugin handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*lightsGetHandle)(<br /> OfxImageEffectHandle imageEffect,<br /> const char *name,<br /> OfxHitFilmLightsHandle *lightsHandle,<br /> OfxPropertySetHandle *propertySet);</p>
<p>/** @brief Retrieves the property set handle for the given lights input</p>
<p>\arg lightsHandle the lights input handle to get the property set for<br /> \arg propHandle pointer to a the property set handle, value is returned here</p>
<p>@returns<br /> - ::kOfxStatOK - the property set was found and returned<br /> - ::kOfxStatErrBadHandle - if the lights input handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*lightsGetPropertySet)(<br /> OfxHitFilmLightsHandle lightsHandle,<br /> OfxPropertySetHandle *propertySet);</p>
<p>/** @brief Retrieves light transform information for the requested time</p>
<p>\arg lightsHandle the lights input handle to get the transform for<br /> \arg light_index the index of the light to be sampled, range: [0, kOfxHitFilmLightsPropNumberOfLights)<br /> \arg time the time at which the light transform values should be sampled<br /> \arg lightTransform pointer to a property set handle, value is returned here</p>
<p>The light transform contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmLightTransform<br /> - kOfxPropTime (read only)<br /> - kOfxHitFilmLightPropEnabled (read only)<br /> - kOfxHitFilmLightPropType (read only)<br /> - kOfxHitFilmLightPropIntensity (read only)<br /> - kOfxHitFilmLightPropColor (read only)<br /> - kOfxHitFilmProp3DTransformMatrix (read only)<br /> - kOfxHitFilmLightPropConeAngle (read only)<br /> - kOfxHitFilmLightPropConeFeather (read only)<br /> - kOfxHitFilmLightPropCastsShadows (read only)<br /> - kOfxHitFilmLightPropShadowColor (read only)<br /> - kOfxHitFilmLightPropShadowDiffusion (read only)<br /> - kOfxHitFilmLightPropFalloffType (read only)<br /> - kOfxHitFilmLightPropFalloffStart (read only)<br /> - kOfxHitFilmLightPropFalloffDistance (read only)</p>
<p>The transform handle is valid for the current action.</p>
<p><br /> @returns<br /> - ::kOfxStatOK - the property set was found and returned<br /> - ::kOfxStatErrBadHandle - if the lights handle was invalid<br /> - ::kOfxStatErrBadIndex - if the light index was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*lightGetTransform)(<br /> OfxHitFilmLightsHandle lightsHandle,<br /> int light_index,<br /> double time,<br /> OfxPropertySetHandle *lightTransform);</p>
<p>&nbsp;</p>
<p>/** @brief Retrieves clip transform information for the requested time</p>
<p>\arg clip the clip handle to get the transform for<br /> \arg time the time at which the clip transform values should be sampled<br /> \arg cameraTransform pointer to a property set handle, value is returned here</p>
<p>The clip transform contains the following properties:<br /> - kOfxPropType (read only): set to kOfxTypeHitFilmCameraTransform<br /> - kOfxPropTime (read only)<br /> - kOfxHitFilmProp3DTransformMatrix (read only)<br /> - kOfxHitFilmImageClipPropIs3D (read only)<br /> <br /> The transform handle is valid for the current action.</p>
<p>@returns<br /> - ::kOfxStatOK - the property set was found and returned<br /> - ::kOfxStatErrBadHandle - if the clip handle was invalid<br /> - ::kOfxStatErrUnknown - if the type is unknown<br /> */<br /> OfxStatus(*clipGetTransform)(<br /> OfxImageClipHandle clip, OfxTime time,<br /> OfxPropertySetHandle *clipTransform);</p>
<p><br />} OfxHitFilm3DSuiteV1;</p>
<p><br />#ifdef __cplusplus<br />}<br />#endif</p>
<p>#endif // _ofxHitFilmExtensions_h_</p>
</div>
</div>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-default'>
<div class='panel-body'>
<h4 class='text-primary'>Discussion</h4>
<h5>Comments</h5>
<div class='well well-sm'>
<div class='comment user-11' id='cid-290'>
<div class='content'>
<p>Also looking at different hosts, I notice Scratch has a boolean Depth (which is if intersection of the layers is done or if the layers are rendered back to front I guess)</p>
<p>Also Near and Far plane is not part of FxHome suite</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin | 10:36 pm,  11 Jan 2017
</div>
</div>

<div class='well well-sm'>
<div class='comment user-11' id='cid-289'>
<div class='content'>
<p>Another question is if this require parametrization (e.g.: a camera and a light param?)</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin |  9:59 pm,  11 Jan 2017
</div>
</div>

<div class='well well-sm'>
<div class='comment user-11' id='cid-288'>
<div class='content'>
<p>I did a quick compare of camera FXHome, versus Foundry versus what I would like. I see this:</p>
<p>1) Foundry has a Projection Mode type - which I think is good except would personally rename UV to 2D (Screen space)</p>
<p>2) Neither has a shutter opening which is also useful to map a real camera metadata to a CG camera</p>
<p>Pierre</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin |  8:27 pm,  11 Jan 2017
</div>
</div>

<div class='well well-sm'>
<div class='comment user-11' id='cid-274'>
<div class='content'>
<p>Maybe this should be split in 2 - camera and lights as a different suite</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin | 11:05 am,  20 Sep 2016
</div>
</div>

</div>
</div>

<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

</div>
</div>
</div>

<div class='push'></div>
</div>
<footer>
<ul class='footer-link-group'>
<li>
<a target="_blank" class="footer-link" href="https://github.com/ofxa/openfx">OFX @ Github</a>
</li>
<li>
<a title="Association details" class="footer-link" href="/contents/page/association_information">Association Information</a>
</li>
</ul>
<br>
Copyright  &copy;2023 The Open Effects Association
</footer>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<title> Standard Changes Broken Generator Context Edited |  The Open Effects Association</title>
<link rel="shortcut icon" type="image/x-icon" href="/assets/ofx_favicon-c6cb586c0f8efbaeff3167d1fd7cfca2.ico" />
<link rel="stylesheet" media="all" href="/assets/application-8fbc3aa4b380a52e15d414a59177d3a2.css" />
<script src="/assets/application-f474998312dbf9d63cf3d555583ac5a1.js"></script>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MSm0zR3n/voPhfjMGqWs0vcQ1iMh5/NQsTYD2aA5kLofM9x+u9Pz1bpauiFulxcGojCiZnia1bJ/Nxe0tWiRgQ==" />
<meta content='IE=edge' http_equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<script src='//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
</head>
<body class='c_standard_changes a_show' data-spy='scroll' data-target='.navbar-top' role='document'>
<div class='modal fade' id='terminal'>
<div class='modal-dialog modal-lg'>
<div class='modal-content'>
<div class='modal-header'>
<div aria-hidden='true' class='button close' data-dismiss='modal' type='button'>&times;</div>
<h4 class='modal-title'>Terminal Output</h4>
</div>
<div class='modal-body'>
<div class='window'></div>
</div>
</div>
</div>
</div>
<div class='wrapper'>
<div class='navbar navbar-inverse navbar-fixed-top' role='components'>
<div class='container'>
<div class='navbar-header'>
<button class='navbar-toggle' data-target='.navbar-collapse' data-toggle='collapse' type='button'>
<span class='sr-only'>Toggle components</span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
</div>
<div class='navbar-collapse collapse'>
<div class='row'>
<div class='navbar-left'>
<div class='navbar-top'>
<div class='mobile'>
<ul class='nav navbar-nav'>
<li><a href="/">Welcome</a></li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
<div class='desktop'>
<ul class='nav navbar-nav'>
<li class='nav-logo'>
<a class="navbar-link" href="/"><img src="/assets/OFX_small-41bc647075217376f758003aebeacf15.png" alt="Ofx small" /></a>
</li>
<li class='dropdown'>
<a href="/">Welcome <span class="glyphicon glyphicon-circle-arrow-left"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" href="#standard">Why a Standard?</a>
</li>
<li>
<a class="navbar-link" href="#implementers">For Implementers</a>
</li>
<li>
<a class="navbar-link" href="#organization">Association Business</a>
</li>
</ul>
</li>
<li class='dropdown api'>
<a class='navbar-link'>API Documentation <span class="glyphicon glyphicon-circle-arrow-down"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" target="_blank" href="/documentation/api_doc">API Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Reference/index.html">Programming Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Guide/index.html">Programming Guide</a>
</li>
</ul>
</li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
</div>
</div>
<div class='desktop'>
<form role="form" class="navbar-form navbar-right form-inline" action="/users/sign_in" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="O39ISyWGMvHAabPw85h07h7i/i8qQpb2Mxhep23B/kAVZSD4g7I/3nW28R2Hqs86S8KKanM/sBT9GUrKeJD/ew==" />
<div class='form-group'>
<input type="text" name="user[email]" id="user_email" class="form-control input-xs" placeholder="Email" />
</div>
<div class='form-group'>
<input type="password" name="user[password]" id="user_password" class="form-control input-xs" placeholder="Password" />
</div>
<button class='btn btn-sm btn-primary' type='submit'>Sign in</button>
</form>

</div>
</div>
</div>
</div>
</div>
<div class='container' role='main'>
</div>
<div class='container'>
<div class='row'>
<div class='col-md-offset-2 col-md-8'>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-warning'>
<div class='panel-heading'>
<h3 class='panel-title'>
Fix Broken Generator Context
<span class='pull-right'>Proposed</span>
</h3>
</div>
<div class='panel-body'>
<p>
<b>Standard version:</b>
1.5
</p>
<p>
<b>Major Change</b>
</p>
<label>Subcommittee</label>
<p></p>
<label>Overview</label>
<p>(sept 23, 2016): This to be co-addressed with Spatial Formats are broken</p>
<p>Generators, as conceived, are not very good. They need to be broken into two types&hellip;..</p>
<ul>
<li>generators that determine their own formats, e.g. a file&nbsp;reading plug-in</li>
<li>generators that leave format determination to the host application, eg: a spatial noise generator that can make noise anywhere on the image plane.</li>
</ul>
<p>Unfortunately there is probably some degree of interplay between what a plug-in might want to produce and what a host can accept. This needs to be thought about, but can almost certainly accommodated with a careful use of the get RoD/spatial format/data format calls.</p>
<label>Solution</label>
<p>This goes hand in hand with fixing the broken spatial format.&nbsp;</p>
<p>The generator context needs to advertise if it determines its own pixel&nbsp;and spatial&nbsp;format (eg: an image file reader), or should be told what pixel and spatial format it should produce. To do that it needs a new property on the effect descriptor...</p>
<ul>
<li><em>kOfxImageEffectPropGeneratorType</em> - a string property that takes one of two values...</li>
<ul>
<li><em>kOfxImageEffectGeneratorFormatMaster</em></li>
<li><em>kOfxImageEffectGeneratorFormatSlave</em></li>
</ul>
</ul>
<p>A generator of type&nbsp;<em>kOfxImageEffectGeneratorFormatMaster&nbsp;</em>will have the&nbsp;<em>kOfxImageEffectActionGetImageFormat</em> action called to determine the format of the clip being created, while a&nbsp;<em>kOfxImageEffectGeneratorFormatSlave</em>&nbsp;will not. A slave will have the format determined for it by the host and the relevant properties available on the output clip.</p>
<p>In both cases all the other calls are standard, eg: the get region of definition call.&nbsp;</p>
<p>Note, a generator plugin may be asked to render a region that is not congruent to the&nbsp;output format, as with&nbsp;all other effect types.</p>
</div>
</div>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-default'>
<div class='panel-body'>
<h4 class='text-primary'>Discussion</h4>
<h5>Comments</h5>
<div class='well well-sm'>
<div class='comment user-11' id='cid-245'>
<div class='content'>
<p>(Pierre Jasmin): Another way of saying this is generator will by default inherit some hosts defined properties. Whether that is via Project Properties or an intermediate panel that host provides to set Width, Height,... And the part that then relates to spatial format, is if this modifyable by plugin.&nbsp; In some apps with native plugins generator are sometimes an issue with regards to frame range (particularly when frame range does not publish explicit parameters about that). This includes when there is optional clip input in the generator. You don't necessary want to inherit temporal attributes from Clip B.</p>
<p>Explained like I did, right now all generators are pretty much by specs Slave.</p>
<p>&nbsp;</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin |  3:53 pm,   6 Jun 2015
</div>
</div>

</div>
</div>

<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

</div>
</div>
</div>

<div class='push'></div>
</div>
<footer>
<ul class='footer-link-group'>
<li>
<a target="_blank" class="footer-link" href="https://github.com/ofxa/openfx">OFX @ Github</a>
</li>
<li>
<a title="Association details" class="footer-link" href="/contents/page/association_information">Association Information</a>
</li>
</ul>
<br>
Copyright  &copy;2023 The Open Effects Association
</footer>
</body>
</html>

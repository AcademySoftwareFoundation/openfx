<!DOCTYPE html>
<html>
<head>
<title> Standard Changes Properties That Are Doubles Canonical But Should Really Be Ints In Pixels Space |  The Open Effects Association</title>
<link rel="shortcut icon" type="image/x-icon" href="/assets/ofx_favicon-c6cb586c0f8efbaeff3167d1fd7cfca2.ico" />
<link rel="stylesheet" media="all" href="/assets/application-8fbc3aa4b380a52e15d414a59177d3a2.css" />
<script src="/assets/application-f474998312dbf9d63cf3d555583ac5a1.js"></script>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="np5P5W5SADy2n9kYxE5T0UDux2rpmxKf2/yMEGbTyGOwhCdWyGYNEwNAm/WwfOgFFc6zL7DmNH0V/Zh9c4LJWA==" />
<meta content='IE=edge' http_equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1' name='viewport'>
<script src='//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js'></script>
</head>
<body class='c_standard_changes a_show' data-spy='scroll' data-target='.navbar-top' role='document'>
<div class='modal fade' id='terminal'>
<div class='modal-dialog modal-lg'>
<div class='modal-content'>
<div class='modal-header'>
<div aria-hidden='true' class='button close' data-dismiss='modal' type='button'>&times;</div>
<h4 class='modal-title'>Terminal Output</h4>
</div>
<div class='modal-body'>
<div class='window'></div>
</div>
</div>
</div>
</div>
<div class='wrapper'>
<div class='navbar navbar-inverse navbar-fixed-top' role='components'>
<div class='container'>
<div class='navbar-header'>
<button class='navbar-toggle' data-target='.navbar-collapse' data-toggle='collapse' type='button'>
<span class='sr-only'>Toggle components</span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
</div>
<div class='navbar-collapse collapse'>
<div class='row'>
<div class='navbar-left'>
<div class='navbar-top'>
<div class='mobile'>
<ul class='nav navbar-nav'>
<li><a href="/">Welcome</a></li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
<div class='desktop'>
<ul class='nav navbar-nav'>
<li class='nav-logo'>
<a class="navbar-link" href="/"><img src="/assets/OFX_small-41bc647075217376f758003aebeacf15.png" alt="Ofx small" /></a>
</li>
<li class='dropdown'>
<a href="/">Welcome <span class="glyphicon glyphicon-circle-arrow-left"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" href="#standard">Why a Standard?</a>
</li>
<li>
<a class="navbar-link" href="#implementers">For Implementers</a>
</li>
<li>
<a class="navbar-link" href="#organization">Association Business</a>
</li>
</ul>
</li>
<li class='dropdown api'>
<a class='navbar-link'>API Documentation <span class="glyphicon glyphicon-circle-arrow-down"></span></a>
<ul class='dropdown-menu inverse-dropdown'>
<li>
<a class="navbar-link" target="_blank" href="/documentation/api_doc">API Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Reference/index.html">Programming Reference</a>
</li>
<li>
<a class="navbar-link" target="_blank" href="https://openfx.readthedocs.io/en/doc/Guide/index.html">Programming Guide</a>
</li>
</ul>
</li>
<li><a class="navbar-link" href="/standard_changes">Standards Discussion</a></li>
<li><a class="navbar-link" href="/contact_form">Contact</a></li>
</ul>
</div>
</div>
</div>
<div class='desktop'>
<form role="form" class="navbar-form navbar-right form-inline" action="/users/sign_in" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="snDoJ7A/oJOZ3CNQ27yZxfBSK4YDLL+lkYsAAmP542+caoCUFgutvCwDYb2vjiIRpXJfw1pRmUdfihRvdqjiVA==" />
<div class='form-group'>
<input type="text" name="user[email]" id="user_email" class="form-control input-xs" placeholder="Email" />
</div>
<div class='form-group'>
<input type="password" name="user[password]" id="user_password" class="form-control input-xs" placeholder="Password" />
</div>
<button class='btn btn-sm btn-primary' type='submit'>Sign in</button>
</form>

</div>
</div>
</div>
</div>
</div>
<div class='container' role='main'>
</div>
<div class='container'>
<div class='row'>
<div class='col-md-offset-2 col-md-8'>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-warning'>
<div class='panel-heading'>
<h3 class='panel-title'>
Properties that are doubles canonical but should really be ints in pixels space
<span class='pull-right'>Proposed</span>
</h3>
</div>
<div class='panel-body'>
<p>
<b>Standard version:</b>
2.0
</p>
<p>
<b>Major Change</b>
</p>
<label>Subcommittee</label>
<p></p>
<label>Overview</label>
<p dir="ltr"><span>A range of spatial values, which refer to regions on the image plane or pixels in the UI, are specified as doubles rather than ints. These are are both properties on several actions&rsquo; in and out args, as well as a returned value from a function in a suite.</span></p>
<p dir="ltr"><span>The following properties should have been integers rather than doubles&hellip;.</span></p>
<ul>
<li dir="ltr">
<p dir="ltr"><span>kOfxImageEffectPropRegionOfDefinition</span></p>
</li>
<li dir="ltr">
<p dir="ltr"><span>kOfxImageEffectPropRegionOfInterest</span></p>
</li>
<li dir="ltr">
<p dir="ltr"><span>kOfxImageEffectPropProjectExtent</span></p>
</li>
<li dir="ltr">
<p dir="ltr"><span>kOfxImageEffectPropProjectSize</span></p>
</li>
<li dir="ltr">
<p dir="ltr"><span>kOfxImageEffectPropProjectOffset</span></p>
</li>
<li dir="ltr">
<p dir="ltr"><span>kOfxParamPropInteractSize</span></p>
</li>
</ul>
<p>Also, the double rect out properties in the GetRegionOfDefinition and GetRegionOfInterest actions should also be integers.</p>
<p dir="ltr"><span>The function </span><span>clipGetRegionOfDefinition</span><span> in the </span><span>OfxImageEffectSuiteV1</span><span> returns values in a pointer to a OfxRectD, this should return values in a OfxRectI.</span></p>
<p>&nbsp;</p>
<label>Solution</label>
<p><span><span>If it were not for the function signature in the ImageEffectSuite, we could simply add integer properties correspondingto the double properties and all would work fine. Unfortunately, to fix this we need to rev up the </span><span>OfxImageEffectSuite</span><span> to version 2 and modify the function signature to return integer values as well as add integer equivalents of the various properties.</span></span></p>
<p>The current proposal is to make v1.5 friendly to the idea of&nbsp;<span>OfxImageEffectSuiteV2 and tie these changes to that suite increment.&nbsp;</span></p>
</div>
</div>
<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

<br>
<br>
<div class='panel panel-default'>
<div class='panel-body'>
<h4 class='text-primary'>Discussion</h4>
<h5>Comments</h5>
<div class='well well-sm'>
<div class='comment user-11' id='cid-273'>
<div class='content'>
<p>To add to a year ago comment here: &nbsp;I still think this would only make sense to do IF/WHEN we do a V2 ImageSuite -</p>
<p>Simple question: What would be the naming strategy here particularly for #define &nbsp;to avoid confusion -<span>kOfxImageEffectPropProjectSize&nbsp;</span><span>&nbsp;becomes&nbsp;<span>kOfxImageEffectPropProjectSize</span><span>V2 ?&nbsp;</span></span></p>
<p><span><span>Alternatively some of these could be wrapped in suites (at least the Project Size stuff). We probably need for layer in comp and video track in NLE sequence a suite which deprecates Project Size to be a form of global project reference (that one can also interpret as a default for things like generators...).&nbsp;</span></span></p>
<p><span><span>For illustration in AE (for example HitFilm host is like that), we can do:</span></span></p>
<p><span><span> SErr = suites.ItemSuite()-&gt;AEGP_GetItemDimensions(itemPH,&amp;widthPL, &amp;heightPL);RV_PL <br /> SErr = suites.ItemSuite()-&gt;AEGP_GetItemPixelAspectRatio(itemPH,&amp;parPL);</span></span></p>
<p><span><span>And that can be different for every comps...&nbsp;</span></span></p>
<p><span><span>In Premiere SDK we can do:</span></span></p>
<p><span><span> PrSDKSequenceInfoSuite *InfoSuite = NULL;<br /> err = AEFX_AcquireSuite( in_data,out_data,kPrSDKSequenceInfoSuite,kPrSDKSequenceInfoSuiteVersion,NULL,(void**)&amp;InfoSuite);<br />(...)<br /> (*InfoSuite-&gt;GetFrameRect)( outTimelineID, &amp;outFrameRect);<br /> *XSize = outFrameRect.right - outFrameRect.left;<br /> *YSize = abs(outFrameRect.bottom - outFrameRect.top);&nbsp; <br /></span></span></p>
<p><span><span>ETC</span></span></p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin |  3:32 pm,  16 Sep 2016
</div>
</div>

<div class='well well-sm'>
<div class='comment user-11' id='cid-248'>
<div class='content'>
<p>(Pierre Jasmin): I also agree that this could be done via a V2 ImageEffectSuite. Another solution (not sure best idea) would be to use different names e.g. <span>kOfxImageEffectPropRegionOfDefinitio</span>n and <span>kOfxImageEffectPropRegionOfDefinitio</span>nInPixels - with an associated global check (supports alternative something).&nbsp; V2 ImageEffectSuite as suggested is probably cleaner.</p>
<p>This does not have to wait for V2, but perhaps before going there perhaps someone would like to chime in as well if PropProject* makes sense to them?&nbsp; For example with apps with&nbsp; Sequence nesting/Comps seems such attributes are not global to a project...</p>
</div>
</div>
<div class='author text-muted'>
Pierre Jasmin |  5:00 pm,   6 Jun 2015
</div>
</div>

</div>
</div>

<div class='btn-group'>
<a type="button" class="btn btn-default" href="/standard_changes"><span class='glyphicon glyphicon-circle-arrow-left'></span> Back to standard change list</a>
</div>

</div>
</div>
</div>

<div class='push'></div>
</div>
<footer>
<ul class='footer-link-group'>
<li>
<a target="_blank" class="footer-link" href="https://github.com/ofxa/openfx">OFX @ Github</a>
</li>
<li>
<a title="Association details" class="footer-link" href="/contents/page/association_information">Association Information</a>
</li>
</ul>
<br>
Copyright  &copy;2023 The Open Effects Association
</footer>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
      <title>Main Objects Used by the API</title>
      <link rel="stylesheet" type="text/css" href="/assets/ofxStyle.css"></link>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></meta>
      <link rel="home" href="/documentation/reference/index.html" title="The OFX Image Effect Plug-in API, 1.4, Programming Reference."></link>
      <link rel="up" href="/documentation/reference/ch03.html" title="Chapter 3. The Image Effect API"></link>
      <link rel="prev" href="/documentation/reference/ch03s03.html" title="Actions Used by the API"></link>
      <link rel="next" href="/documentation/reference/ch04.html" title="Chapter 4. Image Processing Architectures"></link>
      <link rel="stylesheet" type="text/css" href="/assets/ofx-docbook-nav.css"></link>
   </head>
   <body>
      <div id="ofx-main-nav">
         <ul>
            <li>
               <a href="/">
                  <img alt="Ofx small" src="/assets/OFX_small.png"></img>
               </a>
            </li>
            <li>
               <a href="/">
                  Back to Main Site
                  <span class="glyph"></span>
               </a>
            </li>
            <li>
               <a href="/documentation/api_doc">API Reference</a>
            </li>
            <li>
               <a href="/documentation/reference">Programming Reference</a>
            </li>
            <li>
               <a href="https://github.com/ofxa/openfx/blob/master/Guide/Doc/ofxProgrammingGuide.adoc">Programming Guide</a>
            </li>
         </ul>
      </div>
      <div class="wrapper" id="reference">
         <div class="navheader">
            <table width="100%" summary="Navigation header">
               <tr>
                  <th colspan="3" align="center">Main Objects Used by the API</th>
               </tr>
               <tr>
                  <td width="20%" align="left">
                     <a accesskey="p" href="/documentation/reference/ch03s03.html">Prev</a>
                      
                  </td>
                  <th width="60%" align="center">Chapter 3. The Image Effect API</th>
                  <td width="20%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/ch04.html">Next</a>
                  </td>
               </tr>
            </table>
            <hr></hr>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both">
                        <a id="idp11425152"></a>
                        Main Objects Used by the API
                     </h2>
                  </div>
               </div>
            </div>
            <p>
	The image effect API uses a variety of different objects. Some are defined via blind data handles, others via property sets, and some by a combination of the two. These objects are...
	</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Host Descriptor</em>
                     </span>
                     - a descriptor object used by a host to describe its behaviour to a plug-in,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Image Effect Descriptor</em>
                     </span>
                     - a descriptor object used by a plug-in to describe its behaviour to a host,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Image Effect Instance</em>
                     </span>
                     - an instance object maintaining state about an image effect,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Clip Descriptor</em>
                     </span>
                     - a descriptor object for a sequence of images used as input or output a plug-in may use,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Clip Instance</em>
                     </span>
                     - a instance object maintaining state about a sequence of images used as input or output to an effect instance,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Parameter Descriptor</em>
                     </span>
                     - a descriptor object used to specify a user visible parameter in an effect descriptor,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Parameter Instance</em>
                     </span>
                     - an instance object that maintains state about a user visible parameter in an effect instance,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Parameter Set Descriptor</em>
                     </span>
                     - a descriptor object used to specify a set of user visible parameters in an effect descriptor,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Parameter Set Instance</em>
                     </span>
                     - an instance object that maintains state about a set of user visible parameters in an effect instance,
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Image Instance</em>
                     </span>
                     - a instance object that maintains state about a 2D image being passed to an effect instance.
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Interact Descriptor</em>
                     </span>
                     - which describes a custom openGL user interface, for example an overlay over the inputs to an image effect. These have a separate entry point to an image effect.
                  </li>
                  <li class="listitem">
                     <span class="emphasis">
                        <em>Interact Instance</em>
                     </span>
                     - which holds the state on a custom openGL user interface. These have a separate entry point to an image effect.
                  </li>
               </ul>
            </div>
            <p>
      </p>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="idp11437184"></a>
                           Host Descriptors
                        </h3>
                     </div>
                  </div>
               </div>
               <p>
                  The host descriptor is represented by the properties found on the
                  <code class="code">host</code>
                  property set handle in the
                  <a class="link" href="/documentation/reference/ch02s05.html" title="The OfxHost Struct">
                     <code class="code">OfxHost struct</code>
                  </a>
                  . The complete set of read only properties are found in the section
                  <a class="link" href="ch16.html#ImageEffectHostProperties" title="Properties on the Image Effect Host">Properties on the Image Effect Host</a>
                  .
               </p>
               <p>
	  These sets of properties are there to describe the capabilities of the host to a plug-in, thus giving a plug-in the ability to modify
	  its behaviour depending on the capabilities of the host. 
	</p>
               <p>
	  A host descriptor is valid while a plug-in is loaded.
	</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="idp11441264"></a>
                           Effects
                        </h3>
                     </div>
                  </div>
               </div>
               <p>
                  An effect is an object in the OFX Image Effect API that represents an image processing plug-in. It has associated with it a set of properties, a set of image clips and a set of parameters. These component objects of an effect are defined and used by an effect to do whatever processing it needs to. A handle to an image effect (instance or descriptor) is passed into a plug-in's
                  <a class="link" href="/documentation/reference/ch02s06.html" title="The Plug-in Main Entry Point And Actions">main entry point</a>
                  <code class="code">handle</code>
                  argument.
               </p>
               <p>
                  The functions that directly manipulate an image effect handle are specified in the
                  <a class="link" href="/documentation/reference/re21.html" title="OfxImageEffectSuiteV1">image effect suite</a>
                  found in the header file
                  <code class="filename">ofxImageEffect.h</code>
                  .
               </p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11445600"></a>
                              Effect Descriptors
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     An effect descriptor is an object of type
                     <code class="code">OfxImageEffectHandle</code>
                     passed into an effect's
                     <a class="link" href="/documentation/reference/ch02s06.html" title="The Plug-in Main Entry Point And Actions">main 
	      entry point</a>
                     <code class="code">handle</code>
                     argument. The two actions it is passed to are...
                  </p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">kOfxActionDescribe</li>
                        <li class="listitem">kOfxImageEffectActionDescribeInContext</li>
                     </ul>
                  </div>
                  <p>
	  </p>
                  <p>
	    A effect descriptor does not refer to a 'live' effect, it is a handle which the effect uses to describe itself back to the host. It does
	    this by setting a variety of properties on an associated property handle, and specifying a variety of objects (such as clips and parameters) using
	    functions in the available suites.
	  </p>
                  <p>
	    Once described, a host should cache away the description in some manner so that when an instance is made, it simply looks at the description
	    and creates the necessary objects needed by that instance. This stops the overhead of having every instance be forced to describe itself over
	    the API.
	  </p>
                  <p>
	    Effect descriptors are only valid in a effect for the duration of the instance they were passed into.
	  </p>
                  <p>
                     The properties on an effect descriptor can be found in the section
                     <a class="link" href="/documentation/reference/ch16s02.html" title="Properties on an Effect Descriptor">Properties on an Effect Descriptor</a>
                     .
                  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11453472"></a>
                              Effect Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     A effect instance is an object of type
                     <code class="code">OfxImageEffectHandle</code>
                     passed into an effect's
                     <a class="link" href="/documentation/reference/ch02s06.html" title="The Plug-in Main Entry Point And Actions">main entry point</a>
                     <code class="code">handle</code>
                     argument. The
                     <code class="code">handle</code>
                     argument should be statically cast to this type. It is passed into all actions of an image effect that a descriptor is not passed into.
                  </p>
                  <p>
	    The effect instance represents a 'live' instance of an effect. Because an effect has previously been described, via a effect descriptor, 
	    an instance does not have to respecify the parameters, clips and properties that it needs. These means, that when an instance is passed 
	    to an effect, all the objects previously described will have been created.
	  </p>
                  <p>
	    Generally multiple instances of an effect can be in existence at the same time, each with a different set of parameters, clips and properties.
	  </p>
                  <p>
                     Effect instances are valid between the calls to
                     <a class="link" href="/documentation/reference/ch13s04.html" title="The Generic Create Instance Action">kOfxActionCreateInstance</a>
                     and
                     <a class="link" href="/documentation/reference/ch13s05.html" title="The Generic Destroy Instance Action">kOfxActionDestroyInstance</a>
                     , for which it is passed as the
                     <code class="code">handle</code>
                     argument.
                  </p>
                  <p>
                     The properties on an effect instance can be found in the section
                     <a class="link" href="/documentation/reference/ch16s03.html" title="Properties on an Effect Instance">Properties on an Effect Instance</a>
                     .
                  </p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="idp11461104"></a>
                           Clips
                        </h3>
                     </div>
                  </div>
               </div>
               <p>
	  A clip is a sequential set of images attached to an effect. They are used to fetch images from a host and to specify how a plug-in wishes
	  to manage the sequence.
	</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11462304"></a>
                              Clip Descriptors
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Clip descriptors are returned by the
                     <a class="link" href="/documentation/reference/re24.html" title="OfxImageEffectSuiteV1::clipDefine">
                        <code class="code">OfxImageEffectSuiteV1::clipDefine</code>
                     </a>
                     function. They are used during the kOfxActionDescribe action by an effect to indicate the presence of an input or output clip and how that clip behaves.
                  </p>
                  <p>
	    A clip descriptor is only valid for the duration of the action it was created in.
	  </p>
                  <p>
                     The properties on a clip descriptor can be found in the section
                     <a class="link" href="/documentation/reference/ch16s04.html" title="Properties on a Clip Descriptor">Properties on a Clip Descriptor</a>
                     .
                  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11466464"></a>
                              Clip Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Clip instances are returned by the
                     <a class="link" href="/documentation/reference/re25.html" title="OfxImageEffectSuiteV1::clipGetHandle">
                        <code class="code">OfxImageEffectSuiteV1::clipGetHandle</code>
                     </a>
                     function. They are are used to access images and and manipulate properties on an effect instance's input and output clips. A variety of functions in the
                     <a class="link" href="/documentation/reference/re21.html" title="OfxImageEffectSuiteV1">
                        <code class="code">OfxImageEffectSuiteV1</code>
                     </a>
                     are used to manipulate them.
                  </p>
                  <p>
	    A clip instance is valid while the related effect instance is valid.
	  </p>
                  <p>
                     The properties on a clip instance can be found in the section
                     <a class="link" href="/documentation/reference/ch16s05.html" title="Properties on a Clip Instance">Properties on a Clip Instance</a>
                     .
                  </p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="idp11470928"></a>
                           Parameters
                        </h3>
                     </div>
                  </div>
               </div>
               <p>
                  Parameters are user visible objects that an effect uses to specify its state, for example a floating point value used to control the blur size in a blur effect. Parameters (both descriptors and instances) are represented as blind data handles of type
                  <code class="code">OfxParamHandle</code>
                  .
               </p>
               <p>
                  Parameter sets are the collection of parameters that an effect has associated with it. They are represented by the type
                  <code class="code">OfxParamSetHandle</code>
                  . The contents of an effect's parameter set are defined during the
                  <a class="link" href="/documentation/reference/ch13s12.html" title="The Describe In Context Action">
                     <code class="code">kOfxImageEffectActionDescribeInContext</code>
                  </a>
                  action. Parameters cannot be dynamically added to, or deleted from an effect instance.
               </p>
               <p>
	  Parameters can be of a wide range of types, each of which have their own unique capabilities and property sets. For example a colour parameter
	  differs from a boolean parameter.
	</p>
               <p>
                  Parameters and parameter sets are manipulated via the calls and properties in the
                  <a class="link" href="/documentation/reference/re43.html" title="OfxParameterSuiteV1">parameter suite</a>
                  specified in
                  <code class="filename">ofxParam.h</code>
                  header file. The properties on parameter instances and descriptors can be found in the section
                  <a class="link" href="/documentation/reference/ch16s08.html" title="Properties on Parameter Descriptors and Instances">Properties on Parameter Descriptors and Instances</a>
                  .
               </p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11477696"></a>
                              Parameter Set Descriptors
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Parameter set descriptors are returned by the
                     <a class="link" href="/documentation/reference/re23.html" title="OfxImageEffectSuiteV1::getParamSet">
                        <code class="code">OfxImageEffectSuiteV1::getParamSet</code>
                     </a>
                     function. This returns a handle associated with an image effect descriptor which can be used by the parameter suite routines to create and describe parameters to a host.
                  </p>
                  <p>
                     A parameter set descriptor is valid for the duration of the
                     <a class="link" href="/documentation/reference/ch13s12.html" title="The Describe In Context Action">
                        <code class="code">kOfxImageEffectActionDescribeInContext</code>
                     </a>
                     action in which it is fetched.
                  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11481040"></a>
                              Parameter Descriptors
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Parameter descriptors are returned by the
                     <a class="link" href="/documentation/reference/re44.html" title="OfxParameterSuiteV1::paramDefine">
                        <code class="code">OfxParameterSuiteV1::paramDefine</code>
                     </a>
                     function. They are used to define the existence of a parameter to the host, and to set the various attributes of that parameter. Later, when an effect instance is created, an instance of the described parameter will also be created.
                  </p>
                  <p>
                     A parameter descriptor is valid for the duration of the
                     <a class="link" href="/documentation/reference/ch13s12.html" title="The Describe In Context Action">
                        <code class="code">kOfxImageEffectActionDescribeInContext</code>
                     </a>
                     action in which it is created.
                  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11484448"></a>
                              Parameter Set Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Parameter set instances are returned by the
                     <a class="link" href="/documentation/reference/re23.html" title="OfxImageEffectSuiteV1::getParamSet">
                        <code class="code">OfxImageEffectSuiteV1::getParamSet</code>
                     </a>
                     function. This returns a handle associated with an image effect instance which can be used by the parameter suite routines to fetch and describe parameters to a host.
                  </p>
                  <p>
	    A parameter set handle instance is valid while the associated effect instance remains valid.
	  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11487088"></a>
                              Parameter Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Parameter instances are returned by the
                     <a class="link" href="/documentation/reference/re45.html" title="OfxParameterSuiteV1::paramGetHandle">
                        <code class="code">OfxParameterSuiteV1::paramGetHandle</code>
                     </a>
                     function. This function fetches a previously described parameter back from the parameter set. The handle can then be passed back to the various functions in the
                     <a class="link" href="/documentation/reference/re43.html" title="OfxParameterSuiteV1">
                        <code class="code">OfxParameterSuite1V</code>
                     </a>
                     to manipulate it.
                  </p>
                  <p>
	    A parameter instance handle remains valid while the associated effect instance remains valid.
	  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11490384"></a>
                              Image Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     An image instance is an object returned by the
                     <a class="link" href="/documentation/reference/re27.html" title="OfxImageEffectSuiteV1::clipGetImage">
                        <code class="code">OfxImageEffectSuiteV1::clipGetImage</code>
                     </a>
                     function. This fetches an image out of a clip and returns it as a property set to the plugin. The image can be accessed by looking up the property values in that set, which includes the data pointer to the image.
                  </p>
                  <p>
                     An image instance is valid until the effect calls
                     <a class="link" href="/documentation/reference/re28.html" title="OfxImageEffectSuiteV1::clipReleaseImage">
                        <code class="code">OfxImageEffectSuiteV1::clipReleaseImage</code>
                     </a>
                     on the property handle. The effect
                     <span class="emphasis">
                        <em>must</em>
                     </span>
                     release all fetched images before it returns from the action.
                  </p>
                  <p>
                     The set of properties that make up an image can be found in the section
                     <a class="link" href="/documentation/reference/ch16s06.html" title="Properties on an Image">Properties on an Image</a>
                     .
                  </p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title">
                           <a id="idp11495440"></a>
                           Interacts
                        </h3>
                     </div>
                  </div>
               </div>
               <p>
                  An interact is an OFX object that is used to draw custom user interface elements, for example overlays on top of a host's image viewer or custom parameter widgets. Interacts have their own
                  <a class="link" href="/documentation/reference/ch02s06.html" title="The Plug-in Main Entry Point And Actions">main entry point</a>
                  , which is separate to the effect's main entry point. Typically an interact's main entry point is specified as a pointer property on an OFX object, for example the
                  <a class="link" href="/documentation/reference/re113.html" title="kOfxImageEffectPluginPropOverlayInteractV1">
                     <code class="code">kOfxImageEffectPluginPropOverlayInteractV1</code>
                  </a>
                  property on an effect descriptor.
               </p>
               <p>
                  The functions that directly manipulate interacts are in the
                  <a class="link" href="/documentation/reference/re85.html" title="OfxInteractSuiteV1">interact suite</a>
                  found in the header file
                  <code class="filename">ofxInteract.h</code>
                  , as well as the properties and specific actions that apply to interacts.
               </p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11500176"></a>
                              Interact Descriptors
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Interact descriptors are blind handles passed to the
                     <a class="link" href="ch14.html#kOfxActionDescribeInteract" title="The Describe Action">describe action</a>
                     sent to an interact's separate main entry point. They should be cast to the type
                     <code class="code">OfxInteractHandle</code>
                     .
                  </p>
                  <p>
                     The properties found on a descriptor are found in section
                     <a class="link" href="/documentation/reference/ch16s09.html" title="Properties on Interact Descriptors">Properties on Interact Descriptors</a>
                     .
                  </p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title">
                              <a id="idp11503552"></a>
                              Interact Instances
                           </h4>
                        </div>
                     </div>
                  </div>
                  <p>
                     Interact instances are blind handles passed to all actions but the
                     <a class="link" href="ch14.html#kOfxActionDescribeInteract" title="The Describe Action">describe action</a>
                     sent to an interact's separate main entry point. They should be cast to the type
                     <code class="code">OfxInteractHandle</code>
                     .
                  </p>
                  <p>
                     The properties found on an instance are found in section
                     <a class="link" href="/documentation/reference/ch16s10.html" title="Properties on Interact Instances">Properties on Interact Instance</a>
                     .
                  </p>
               </div>
            </div>
         </div>
         <div class="navfooter">
            <hr></hr>
            <table width="100%" summary="Navigation footer">
               <tr>
                  <td width="40%" align="left">
                     <a accesskey="p" href="/documentation/reference/ch03s03.html">Prev</a>
                      
                  </td>
                  <td width="20%" align="center">
                     <a accesskey="u" href="/documentation/reference/ch03.html">Up</a>
                  </td>
                  <td width="40%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/ch04.html">Next</a>
                  </td>
               </tr>
               <tr>
                  <td width="40%" align="left" valign="top">Actions Used by the API </td>
                  <td width="20%" align="center">
                     <a accesskey="h" href="/documentation/reference/index.html">Home</a>
                  </td>
                  <td width="40%" align="right" valign="top"> Chapter 4. Image Processing Architectures</td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
      <title>Chapter 8. Images and Clips</title>
      <link rel="stylesheet" type="text/css" href="/assets/ofxStyle.css"></link>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></meta>
      <link rel="home" href="/documentation/reference/index.html" title="The OFX Image Effect Plug-in API, 1.4, Programming Reference."></link>
      <link rel="up" href="/documentation/reference/index.html" title="The OFX Image Effect Plug-in API, 1.4, Programming Reference."></link>
      <link rel="prev" href="/documentation/reference/ch07s02.html" title="Temporal Coordinates"></link>
      <link rel="next" href="/documentation/reference/ch08s02.html" title="Defining Clips"></link>
      <link rel="stylesheet" type="text/css" href="/assets/ofx-docbook-nav.css"></link>
   </head>
   <body>
      <div id="ofx-main-nav">
         <ul>
            <li>
               <a href="/">
                  <img alt="Ofx small" src="/assets/OFX_small.png"></img>
               </a>
            </li>
            <li>
               <a href="/">
                  Back to Main Site
                  <span class="glyph"></span>
               </a>
            </li>
            <li>
               <a href="/documentation/api_doc">API Reference</a>
            </li>
            <li>
               <a href="/documentation/reference">Programming Reference</a>
            </li>
            <li>
               <a href="https://github.com/ofxa/openfx/blob/master/Guide/Doc/ofxProgrammingGuide.adoc">Programming Guide</a>
            </li>
         </ul>
      </div>
      <div class="wrapper" id="reference">
         <div class="navheader">
            <table width="100%" summary="Navigation header">
               <tr>
                  <th colspan="3" align="center">Chapter 8. Images and Clips</th>
               </tr>
               <tr>
                  <td width="20%" align="left">
                     <a accesskey="p" href="/documentation/reference/ch07s02.html">Prev</a>
                      
                  </td>
                  <th width="60%" align="center"> </th>
                  <td width="20%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/ch08s02.html">Next</a>
                  </td>
               </tr>
            </table>
            <hr></hr>
         </div>
         <div class="chapter">
            <div class="titlepage">
               <div>
                  <div>
                     <h1 class="title">
                        <a id="idp11730240"></a>
                        Chapter 8. Images and Clips
                     </h1>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both">
                           <a id="ImageEffectsImagesAndClipsIntro"></a>
                           What Is An Image?
                        </h2>
                     </div>
                  </div>
               </div>
               <p>
	Image Effects process images (funny that), this chapeter describes images and clips of images, 
	how they behave and how to deal with them. 
      </p>
               <p>
	Firstly some definitions...
	</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        an
                        <span class="emphasis">
                           <em>image</em>
                        </span>
                        is a rectangular array of addressable pixels,
                     </li>
                     <li class="listitem">
                        a
                        <span class="emphasis">
                           <em>clip</em>
                        </span>
                        is a contiguous sequence of images that vary over time.
                     </li>
                  </ul>
               </div>
               <p>
      </p>
               <p>
	Images and clips contain pixels, these pixels can currently be of the following types...
	</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">a colour pixel with red, green, blue, alpha components</li>
                     <li class="listitem">a colour pixel with red, green and blue components</li>
                     <li class="listitem">single component 'alpha' images</li>
                  </ul>
               </div>
               <p>
      </p>
               <p>
	The components of the pixels can be of the following types...
	</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">8 bit unsigned byte, with the nominal black and white points at 0 and 255 respectively,</li>
                     <li class="listitem">16 bit unsigned short, with the nominal black and white points at 0 and 65535 respectively,</li>
                     <li class="listitem">
                        32 bit float, with the nominal black and white points at 0.0f and 1.0f respectively, component values are
                        <span class="emphasis">
                           <em>not</em>
                        </span>
                        clipped to 0.0f and 1.0f.
                     </li>
                  </ul>
               </div>
               <p>
      </p>
               <p>
	Components are packed per pixel in the following manner...
	</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">RGBA pixels as R, G, B, A</li>
                     <li class="listitem">RGB pixels as R, G, B</li>
                  </ul>
               </div>
               <p>
      </p>
               <p>
	There are several structs for pixel types in ofxCore.h that can be used for raw pixels in OFX.
      </p>
               <p>
	Images are always left to right, bottom to top, with the pixel data pointer being at the bottom left of the image.
	The pixels in a scan line are contiguously packed.
      </p>
               <p>
                  Scanlines need
                  <span class="emphasis">
                     <em>not</em>
                  </span>
                  be contiguously packed. The number of
                  <span class="emphasis">
                     <em>bytes</em>
                  </span>
                  between between a pixel in the same column, but separated by a scan line is known as the
                  <span class="emphasis">
                     <em>rowbytes</em>
                  </span>
                  of an image. Rowbytes can be negative, allowing for compositing systems with a native top to bottom scanline order to trivially support bottom to top images.
               </p>
               <p>
                  Clips and images also have a
                  <span class="emphasis">
                     <em>pixel aspect ratio</em>
                  </span>
                  , this is how much an actual addressable pixel must be stretched by in X to be square. For example PAL SD images have a pixel aspect ratio of 1.06666.
               </p>
               <p>
                  Images are rectangular, whose integral bounds are in Pixel coordinates, with the image being X1 &lt;= X &lt; X2 and Y1 &lt;= Y &lt; Y2, ie: exclusive on the top and right. The bounds represent the amount of data present in the image, which may be larger, smaller or equal to the Region of Definition of the image, depending on the architecture supported by the plugin. The
                  <a class="link" href="/documentation/reference/re154.html" title="kOfxImagePropBounds">
                     <code class="code">kOfxImagePropBounds</code>
                  </a>
                  property on an image holds this information.
               </p>
               <p>
                  An image also contains it's RoD in image coordinates, in the
                  <a class="link" href="/documentation/reference/re158.html" title="kOfxImagePropRegionOfDefinition">
                     <code class="code">kOfxImagePropRegionOfDefinition</code>
                  </a>
                  property. The RoD is the maximum area that an image may have pixels in, t he bounds are the actual addressable pixels present in an image. This allows for tiled rendering an so on.
               </p>
               <p>
	Clips have a frame rate, which is the number of frames per second they are to be displayed at.
	Some clips may be continously samplable (for example, if they are connected to animating geometry 
	that can be rendered at arbitrary times), if this is so, the frame rate for these clips is set to 0.
      </p>
               <p>
	Images may be composed of full frames, two fields or a single field, depending on its source and how the effect
	requests the image be processed. Clips are either full frame sequences or fielded sequences.
      </p>
               <p>
	Images and clips also have a premultiplication state, this represents how the alpha component and the
	RGB/YUV components may have interacted.
      </p>
            </div>
         </div>
         <div class="navfooter">
            <hr></hr>
            <table width="100%" summary="Navigation footer">
               <tr>
                  <td width="40%" align="left">
                     <a accesskey="p" href="/documentation/reference/ch07s02.html">Prev</a>
                      
                  </td>
                  <td width="20%" align="center"> </td>
                  <td width="40%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/ch08s02.html">Next</a>
                  </td>
               </tr>
               <tr>
                  <td width="40%" align="left" valign="top">Temporal Coordinates </td>
                  <td width="20%" align="center">
                     <a accesskey="h" href="/documentation/reference/index.html">Home</a>
                  </td>
                  <td width="40%" align="right" valign="top"> Defining Clips</td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>

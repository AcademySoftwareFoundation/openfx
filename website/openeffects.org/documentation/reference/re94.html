<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
      <title>OfxImageEffectOpenGLRenderSuiteV1::clipLoadTexture</title>
      <link rel="stylesheet" type="text/css" href="/assets/ofxStyle.css"></link>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></meta>
      <link rel="home" href="/documentation/reference/index.html" title="The OFX Image Effect Plug-in API, 1.4, Programming Reference."></link>
      <link rel="up" href="/documentation/reference/ch15s11.html" title="OpenGL Render Suite"></link>
      <link rel="prev" href="/documentation/reference/re93.html" title="OfxImageEffectOpenGLRenderSuiteV1"></link>
      <link rel="next" href="/documentation/reference/re95.html" title="OfxImageEffectOpenGLRenderSuiteV1::clipFreeTexture"></link>
      <link rel="stylesheet" type="text/css" href="/assets/ofx-docbook-nav.css"></link>
   </head>
   <body>
      <div id="ofx-main-nav">
         <ul>
            <li>
               <a href="/">
                  <img alt="Ofx small" src="/assets/OFX_small.png"></img>
               </a>
            </li>
            <li>
               <a href="/">
                  Back to Main Site
                  <span class="glyph"></span>
               </a>
            </li>
            <li>
               <a href="/documentation/api_doc">API Reference</a>
            </li>
            <li>
               <a href="/documentation/reference">Programming Reference</a>
            </li>
            <li>
               <a href="https://github.com/ofxa/openfx/blob/master/Guide/Doc/ofxProgrammingGuide.adoc">Programming Guide</a>
            </li>
         </ul>
      </div>
      <div class="wrapper" id="reference">
         <div class="navheader">
            <table width="100%" summary="Navigation header">
               <tr>
                  <th colspan="3" align="center">
                     <code class="function">OfxImageEffectOpenGLRenderSuiteV1::clipLoadTexture</code>
                  </th>
               </tr>
               <tr>
                  <td width="20%" align="left">
                     <a accesskey="p" href="/documentation/reference/re93.html">Prev</a>
                      
                  </td>
                  <th width="60%" align="center">OpenGL Render Suite</th>
                  <td width="20%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/re95.html">Next</a>
                  </td>
               </tr>
            </table>
            <hr></hr>
         </div>
         <div class="refentry">
            <a id="OfxImageEffectOpenGLRenderSuiteV1_clipLoadTexture"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
               <h2>Name</h2>
               <p>
                  <code class="function">OfxImageEffectOpenGLRenderSuiteV1::clipLoadTexture</code>
                  — loads an image from an OFX clip as a texture into OpenGL
               </p>
            </div>
            <div class="refsynopsisdiv">
               <h2>Synopsis</h2>
               <div class="funcsynopsis">
                  <pre class="funcsynopsisinfo">#include "ofxOpenGLRender.h" </pre>
                  <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
                     <tr>
                        <td>
                           <code class="funcdef">
                              OfxStatus
                              <strong class="fsfunc">(*clipLoadTexture)</strong>
                              (
                           </code>
                        </td>
                        <td>
                           OfxImageClipHandle
                           <var class="pdparam">clip</var>
                           ,
                        </td>
                     </tr>
                     <tr>
                        <td> </td>
                        <td>
                           OfxTime
                           <var class="pdparam">time</var>
                           ,
                        </td>
                     </tr>
                     <tr>
                        <td> </td>
                        <td>
                           const char *
                           <var class="pdparam">format</var>
                           ,
                        </td>
                     </tr>
                     <tr>
                        <td> </td>
                        <td>
                           const OfxRectD *
                           <var class="pdparam">region</var>
                           ,
                        </td>
                     </tr>
                     <tr>
                        <td> </td>
                        <td>
                           OfxPropertySetHandle *
                           <var class="pdparam">textureHandle</var>
                           <code>)</code>
                           ;
                        </td>
                     </tr>
                  </table>
                  <div class="funcprototype-spacer"> </div>
               </div>
            </div>
            <div class="refsect2">
               <a id="idp16986112"></a>
               <h3>Arguments</h3>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">clip - the clip to load the image from
</li>
                     <li class="listitem">time - effect time to load the image from
</li>
                     <li class="listitem">
                        format - the requested texture format (As in none,byte,word,half,float, etc..) When set to NULL, the host decides the format based on the plug-in's
                        <a class="link" href="/documentation/reference/re170.html" title="kOfxOpenGLPropPixelDepth">
                           <code class="code">kOfxOpenGLPropPixelDepth</code>
                        </a>
                        setting.
                     </li>
                     <li class="listitem">
                        region - region of the image to load (optional, set to NULL to get a 'default' region) this is in the
                        <a class="link" href="ch07.html#CanonicalCoordinates" title="Canonical Coordinates">CanonicalCoordinates</a>
                        .
                     </li>
                     <li class="listitem">textureHandle - a property set containing information about the
texture
</li>
                  </ul>
               </div>
            </div>
            <div class="refsect2">
               <a id="idp16991696"></a>
               <h3>Description</h3>
               <p>
                  An image is fetched from a clip at the indicated time for the given region and loaded into an OpenGL texture. When a specific format is requested, the host ensures it gives the requested format. When the clip specified is the "Output" clip, the format is ignored and the host must bind the resulting texture as the current color buffer (render target). This may also be done prior to calling the
                  <a class="link" href="/documentation/reference/ch13s17.html" title="The Render Action">
                     <code class="code">kOfxImageEffectActionRender</code>
                  </a>
                  action. If the
                  <span class="emphasis">
                     <em> m</em>
                  </span>
                  region parameter is set to non-NULL, then it will be clipped to the clip's Region of Definition for the given time. The returned image will be
                  <span class="emphasis">
                     <em> m</em>
                  </span>
                  at
                  <span class="emphasis">
                     <em> m</em>
                  </span>
                  least as big as this region. If the region parameter is not set or is NULL, then the region fetched will be at least the Region of Interest the effect has previously specified, clipped to the clip's Region of Definition. Information about the texture, including the texture index, is returned in the
                  <span class="emphasis">
                     <em> m</em>
                  </span>
                  textureHandle argument. The properties on this handle will be...
               </p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re126.html" title="kOfxImageEffectPropOpenGLTextureIndex">
                           <code class="code">kOfxImageEffectPropOpenGLTextureIndex</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re127.html" title="kOfxImageEffectPropOpenGLTextureTarget">
                           <code class="code">kOfxImageEffectPropOpenGLTextureTarget</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re128.html" title="kOfxImageEffectPropPixelDepth">
                           <code class="code">kOfxImageEffectPropPixelDepth</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re117.html" title="kOfxImageEffectPropComponents">
                           <code class="code">kOfxImageEffectPropComponents</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re130.html" title="kOfxImageEffectPropPreMultiplication">
                           <code class="code">kOfxImageEffectPropPreMultiplication</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re138.html" title="kOfxImageEffectPropRenderScale">
                           <code class="code">kOfxImageEffectPropRenderScale</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re157.html" title="kOfxImagePropPixelAspectRatio">
                           <code class="code">kOfxImagePropPixelAspectRatio</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re154.html" title="kOfxImagePropBounds">
                           <code class="code">kOfxImagePropBounds</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re158.html" title="kOfxImagePropRegionOfDefinition">
                           <code class="code">kOfxImagePropRegionOfDefinition</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re159.html" title="kOfxImagePropRowBytes">
                           <code class="code">kOfxImagePropRowBytes</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re156.html" title="kOfxImagePropField">
                           <code class="code">kOfxImagePropField</code>
                        </a>
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re160.html" title="kOfxImagePropUniqueIdentifier">
                           <code class="code">kOfxImagePropUniqueIdentifier</code>
                        </a>
                     </li>
                  </ul>
               </div>
               <p>
</p>
               <p>
With the exception of the OpenGL specifics, these properties are the same
as the properties in an image handle returned by clipGetImage in the image
effect suite.
\pre

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">clip was returned by clipGetHandle
</li>
                     <li class="listitem">Format property in the texture handle
</li>
                  </ul>
               </div>
               <p>
</p>
               <p>
\post

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">texture handle to be disposed of by clipFreeTexture before the action
</li>
                  </ul>
               </div>
               <p>
returns

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">when the clip specified is the "Output" clip, the format is ignored and
</li>
                  </ul>
               </div>
               <p>
the host must bind the resulting texture as the current color buffer
(render target).
This may also be done prior to calling the render action.
</p>
               <p>
\note

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">this is the OpenGL equivalent of clipGetImage from OfxImageEffectSuiteV1
</li>
                  </ul>
               </div>
               <p>
</p>
            </div>
            <div class="refsect2">
               <a id="idp17018384"></a>
               <h3>Returns</h3>
               <p>

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re248.html" title="kOfxStatOK">
                           <code class="code">kOfxStatOK</code>
                        </a>
                        - the image was successfully fetched and returned
                     </li>
                  </ul>
               </div>
               <p>
in the handle,

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re249.html" title="kOfxStatFailed">
                           <code class="code">kOfxStatFailed</code>
                        </a>
                        - the image could not be fetched because it does
                     </li>
                  </ul>
               </div>
               <p>
not exist in the clip at the indicated
time and/or region, the plugin should continue
operation, but assume the image was black and
transparent.

</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re257.html" title="kOfxStatErrBadHandle">
                           <code class="code">kOfxStatErrBadHandle</code>
                        </a>
                        - the clip handle was invalid,
                     </li>
                     <li class="listitem">
                        <a class="link" href="/documentation/reference/re256.html" title="kOfxStatErrMemory">
                           <code class="code">kOfxStatErrMemory</code>
                        </a>
                        - not enough OpenGL memory was available for the
                     </li>
                  </ul>
               </div>
               <p>
                  effect to load the texture. The plugin should abort the GL render and return
                  <a class="link" href="/documentation/reference/re256.html" title="kOfxStatErrMemory">
                     <code class="code">kOfxStatErrMemory</code>
                  </a>
                  , after which the host can decide to retry the operation with CPU based processing.
               </p>
            </div>
         </div>
         <div class="navfooter">
            <hr></hr>
            <table width="100%" summary="Navigation footer">
               <tr>
                  <td width="40%" align="left">
                     <a accesskey="p" href="/documentation/reference/re93.html">Prev</a>
                      
                  </td>
                  <td width="20%" align="center">
                     <a accesskey="u" href="/documentation/reference/ch15s11.html">Up</a>
                  </td>
                  <td width="40%" align="right">
                      
                     <a accesskey="n" href="/documentation/reference/re95.html">Next</a>
                  </td>
               </tr>
               <tr>
                  <td width="40%" align="left" valign="top">
                     <span class="type">OfxImageEffectOpenGLRenderSuiteV1</span>
                      
                  </td>
                  <td width="20%" align="center">
                     <a accesskey="h" href="/documentation/reference/index.html">Home</a>
                  </td>
                  <td width="40%" align="right" valign="top">
                      
                     <code class="function">OfxImageEffectOpenGLRenderSuiteV1::clipFreeTexture</code>
                  </td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>

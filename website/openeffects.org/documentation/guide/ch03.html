<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
      <title>Chapter 3. The Generic OFX Plug-in Architecture</title>
      <link rel="stylesheet" type="text/css" href="/assets/ofxStyle.css"></link>
      <meta name="generator" content="DocBook XSL Stylesheets V1.77.1"></meta>
      <link rel="home" href="/documentation/guide/index.html" title="OpenFX Plug-in API Programming Guide"></link>
      <link rel="up" href="/documentation/guide/index.html" title="OpenFX Plug-in API Programming Guide"></link>
      <link rel="prev" href="/documentation/guide/ch02s10.html" title="In Summary"></link>
      <link rel="next" href="/documentation/guide/ch03s02.html" title="Plug-in Binaries and Required Symbols"></link>
      <link rel="stylesheet" type="text/css" href="/assets/ofx-docbook-nav.css"></link>
   </head>
   <body>
      <div id="ofx-main-nav">
         <table>
            <tr>
               <td>
                  <ul>
                     <li>
                        <a href="/">
                           <img alt="Ofx small" src="/assets/OFX_small.png"></img>
                        </a>
                     </li>
                     <li>
                        <a href="/">
                           Back to Main Site
                           <span class="glyph"></span>
                        </a>
                     </li>
                     <li>
                        <a href="/documentation/guide">Programming Guide</a>
                     </li>
                     <li>
                        <a href="/documentation/reference">Programming Reference</a>
                     </li>
                     <li>
                        <a href="/documentation/api_doc">API Reference</a>
                     </li>
                  </ul>
               </td>
            </tr>
         </table>
      </div>
      <div class="wrapper" id="guide">
         <div class="navheader">
            <table width="100%" summary="Navigation header">
               <tr>
                  <th colspan="3" align="center">Chapter 3. The Generic OFX Plug-in Architecture</th>
               </tr>
               <tr>
                  <td width="20%" align="left">
                     <a accesskey="p" href="/documentation/guide/ch02s10.html">Prev</a>
                      
                  </td>
                  <th width="60%" align="center"> </th>
                  <td width="20%" align="right">
                      
                     <a accesskey="n" href="/documentation/guide/ch03s02.html">Next</a>
                  </td>
               </tr>
            </table>
            <hr></hr>
         </div>
         <div class="chapter">
            <div class="titlepage">
               <div>
                  <div>
                     <h1 class="title">
                        <a id="idp140729791772768"></a>
                        Chapter 3. The Generic OFX Plug-in Architecture
                     </h1>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both">
                           <a id="idp140729791773408"></a>
                           Overview
                        </h2>
                     </div>
                  </div>
               </div>
               <p>As explained in the introduction, OFX is actually several things,
      </p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
             an underlying generic plug-in architecture, 
          </li>
                     <li class="listitem">
             specific plug-in APIs defined using that architecture. 
          </li>
                  </ul>
               </div>
               <p> This chapter concentrates on defining the underlying
      architecture, including how plug-ins should be identified, defined,
      versioned, installed and the initial bootstrapping of communication
      occurs.</p>
               <p>The two OFX include files relevant for this section are
      </p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <code class="filename">ofxCore.h</code>
                        which defines basic data structures used in loading and identifying plug-ins,
                     </li>
                     <li class="listitem">
                        <code class="filename">ofxProperty.h</code>
                        which defines the suite used for fetching and setting properties on objects.
                     </li>
                  </ul>
               </div>
               <p>OFX APIs are all implemented via prototyped "C" header files.
      There are no OFX specific libraries to link against as the APIs consists
      solely of sets of header files and their supporting documentation. The
      API is also designed to minimise symbolic dependencies between the host
      and the plug-in.</p>
               <p>
                  Certain concepts are at the core of the OFX plug-in architecture, these are
                  <span class="emphasis">
                     <em>APIs</em>
                  </span>
                  ,
                  <span class="emphasis">
                     <em>actions</em>
                  </span>
                  ,
                  <span class="emphasis">
                     <em>suites</em>
                  </span>
                  ,
                  <span class="emphasis">
                     <em>properties</em>
                  </span>
                  and
                  <span class="emphasis">
                     <em>handles</em>
                  </span>
                  . No matter what kind of API is being built on top of the core architecture, it will use these objects.
               </p>
               <div class="variablelist">
                  <dl class="variablelist">
                     <dt>
                        <span class="term">Actions</span>
                     </dt>
                     <dd>
                        <p>An action is how a host communicates with a plug-in, e.g.:
            "render frame 10". Actions are labelled by strings passed to a
            plug-in's 'mainEntry' function.</p>
                     </dd>
                     <dt>
                        <span class="term">Suites</span>
                     </dt>
                     <dd>
                        <p>A suite is how a plug-in communicates to a host. Suites are
            'C' structs filled with pointers to functions, the plug-in calls
            these functions to perform certain tasks (e.g.: fetch an
            image).</p>
                     </dd>
                     <dt>
                        <span class="term">Handles</span>
                     </dt>
                     <dd>
                        <p>Handles are blind data pointers that are passed back to a
            plug-in from a host. They represent various types of data (e.g.: a
            set of properties, an instance of an image effect and so on) and
            are how objects on the host side are referenced by a plug-in. The
            data pointers themselves are typed by declaring them as pointers
            to defined but undeclared C structs.</p>
                     </dd>
                     <dt>
                        <span class="term">Properties</span>
                     </dt>
                     <dd>
                        <p>
                           Properties are simple data types used to communicate information between a host and a plug-in. They avoid having to pass around C structs and so makes versioning and backwards compatibility easier. They are name/value pairs labelled with a C-string. Properties are accessed using the property suite found in
                           <code class="filename">ofxProperty.h</code>
                           .
                        </p>
                     </dd>
                     <dt>
                        <span class="term">APIs</span>
                     </dt>
                     <dd>
                        <p>
                           An 'API', in the OFX sense, is a named set of suites, actions and supporting objects used to implement a type of plug-in. Currently there is only one API built on the core architecture, this is the OFX Image Effect API, which is labelled by the string
                           <code class="literal">"OfxImageEffectPluginAPI"</code>
                        </p>
                     </dd>
                  </dl>
               </div>
            </div>
         </div>
         <div class="navfooter">
            <hr></hr>
            <table width="100%" summary="Navigation footer">
               <tr>
                  <td width="40%" align="left">
                     <a accesskey="p" href="/documentation/guide/ch02s10.html">Prev</a>
                      
                  </td>
                  <td width="20%" align="center"> </td>
                  <td width="40%" align="right">
                      
                     <a accesskey="n" href="/documentation/guide/ch03s02.html">Next</a>
                  </td>
               </tr>
               <tr>
                  <td width="40%" align="left" valign="top">In Summary </td>
                  <td width="20%" align="center">
                     <a accesskey="h" href="/documentation/guide/index.html">Home</a>
                  </td>
                  <td width="40%" align="right" valign="top"> Plug-in Binaries and Required Symbols</td>
               </tr>
            </table>
         </div>
      </div>
   </body>
</html>
